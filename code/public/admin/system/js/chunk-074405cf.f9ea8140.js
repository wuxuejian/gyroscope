(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-074405cf"],{"14d8":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"file-box"},[i("div",{staticClass:"header flex-between"},[i("div",[t._v(t._s(t.file.name)+"."+t._s(t.file.file_ext))]),t._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:t.editBtn,expression:"editBtn"}],attrs:{loading:t.loading,size:"small",type:"primary"},on:{click:t.save}},[t._v("保存")])],1),t._v(" "),i("div",{staticClass:"main"},[i(t.type,{ref:"fileEdit",tag:"component",attrs:{fid:t.fid,file:t.file,url:t.file.file_url,editBtn:t.editBtn},on:{startLoading:t.startLoading,closeLoading:t.closeLoading}})],1)])},d=[],a=i("e3e1"),l={name:"",components:{docx:function(){return Promise.all([i.e("chunk-3a8b7c00"),i.e("chunk-0c1f8b44")]).then(i.bind(null,"9b10"))},md:function(){return Promise.all([i.e("chunk-adbf7866"),i.e("chunk-d1135a88")]).then(i.bind(null,"15be"))},mp3:function(){return i.e("chunk-7705376e").then(i.bind(null,"ac61a"))},mp4:function(){return i.e("chunk-2d0cc0e4").then(i.bind(null,"4bff"))},pdf:function(){return Promise.all([i.e("chunk-f924c850"),i.e("chunk-048255cd")]).then(i.bind(null,"34f2"))},txt:function(){return i.e("chunk-780faa4c").then(i.bind(null,"b1cb"))},office:function(){return i.e("chunk-50e0b98c").then(i.bind(null,"0378"))},docxEdit:function(){return Promise.all([i.e("chunk-7826c15a"),i.e("chunk-692c2564")]).then(i.bind(null,"6122"))},xlsxEdit:function(){return Promise.all([i.e("chunk-dfb654d6"),i.e("chunk-9e68feb0")]).then(i.bind(null,"83d3"))},xmindEdit:function(){return Promise.all([i.e("chunk-d4251fd8"),i.e("chunk-8010ef54")]).then(i.bind(null,"aa4a"))},xmindPreview:function(){return i.e("chunk-5bac5500").then(i.bind(null,"d8f4"))}},data:function(){return{type:"",file:{},id:0,fid:0,loading:!1,editBtn:!1}},created:function(){this.id=this.$route.query.id,this.$route.query.fid?(this.fid=this.$route.query.fid,this.getFileInfo()):this.getAttachInfo()},methods:{getFileInfo:function(){var t=this;Object(a["Y"])(this.fid,this.id).then((function(e){t.handleRes(e)}))},getAttachInfo:function(){var t=this;Object(a["X"])(this.id).then((function(e){t.handleRes(e)}))},handleRes:function(t){this.file=t.data,this.type=t.data.file_ext,t.data.name||(t.data.name=t.data.real_name.split(".")[0]),document.title=t.data.name,t.data.auth&&1==t.data.auth.update&&["docx","xlsx","txt","md","html","xmind"].includes(t.data.file_ext)?("html"==t.data.file_ext&&(this.type="md"),this.editBtn=!0,"docx"==t.data.file_ext?this.type="docxEdit":"xlsx"==t.data.file_ext?this.type="xlsxEdit":"xmind"==t.data.file_ext&&(this.type="xmindEdit")):["doc","pptx","ppt","xlsx","docx","xls"].includes(t.data.file_ext)?this.type="office":["xmind"].includes(t.data.file_ext)&&(this.type="xmindPreview")},startLoading:function(){this.loading=!0},closeLoading:function(){this.loading=!1},save:function(){this.loading=!0,"docxEdit"==this.type?this.$refs.fileEdit.wordOption():"xlsxEdit"==this.type?this.$refs.fileEdit.exportData(1):("txt"==this.type||"md"==this.type||"xmindEdit"==this.type)&&this.$refs.fileEdit.save()}}},s=l,c=(i("5766"),i("2877")),u=Object(c["a"])(s,n,d,!1,null,"165d5e59",null);e["default"]=u.exports},5766:function(t,e,i){"use strict";i("e1b5")},e1b5:function(t,e,i){}}]);