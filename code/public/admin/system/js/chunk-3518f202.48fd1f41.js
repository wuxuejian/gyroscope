(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3518f202"],{"38c1":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"oa-dialog"},[a("el-dialog",{attrs:{top:"10%",visible:e.show,width:"700px","append-to-body":"","show-close":!1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show=t}}},[a("div",{staticClass:"header flex-between",attrs:{slot:"title"},slot:"title"},[a("span",{staticClass:"title"},[e._v("选择引用内容")]),e._v(" "),a("span",{staticClass:"el-icon-close",on:{click:e.handleClose}})]),e._v(" "),a("div",{staticClass:"flex mb20"},[a("div",{staticClass:"inTotal"},[e._v("共 "+e._s(e.total)+" 项")]),e._v(" "),a("div",{staticClass:"ml14"},[a("el-input",{staticClass:"input",staticStyle:{width:"250px"},attrs:{"prefix-icon":"el-icon-search",size:"small",placeholder:"请输入关键字搜索",clearable:""},on:{change:e.getList},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),t.preventDefault(),e.getList(t))}},model:{value:e.where.keyword,callback:function(t){e.$set(e.where,"keyword",t)},expression:"where.keyword"}})],1)]),e._v(" "),a("div",{staticClass:"content table-box"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[e._l(e.header,(function(t,n){return a("el-table-column",{key:n,attrs:{prop:t.field_name_en,label:t.field_name},scopedSlots:e._u([{key:"default",fn:function(n){return["image"===t.form_value?a("div",{staticClass:"img-box"},[e._l(n.row[t.field_name_en],(function(t,n){return a("img",{key:n,staticClass:"img",attrs:{src:t.url,alt:""},on:{click:function(a){return e.lookViewer(t.url,t.name)}}})})),e._v(" "),n.row[t.field_name_en]&&0!=n.row[t.field_name_en].length?e._e():a("span",[e._v("--")])],2):"input_percentage"===t.form_value?a("div",[a("el-progress",{attrs:{percentage:n.row[t.field_name_en]?n.row[t.field_name_en]:0}})],1):"tag"===t.form_value||"checkbox"===t.form_value?a("div",[n.row[t.field_name_en].length>2?a("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[[a("div",{staticClass:"flex_box"},e._l(n.row[t.field_name_en],(function(t,n){return a("div",{key:n,staticClass:"tips"},[a("el-tag",{attrs:{size:"small"}},[e._v("\n                        "+e._s(t)+"\n                      ")])],1)})),0)],e._v(" "),a("div",{attrs:{slot:"reference"},slot:"reference"},[a("div",{staticClass:"flex_box"},[e._l(n.row[t.field_name_en],(function(t,n){return a("div",{key:n,staticClass:"tips"},[n<2?a("el-tag",{attrs:{size:"small"}},[e._v("\n                        "+e._s(t)+"\n                      ")]):e._e()],1)})),e._v(" "),n.row[t.field_name_en].length>2?a("el-tag",{attrs:{size:"small"}},[e._v("...")]):e._e()],2)])],2):[a("div",{staticClass:"flex_box"},[e._l(n.row[t.field_name_en],(function(t,n){return a("div",{key:n,staticClass:"tips"},[n<2?a("el-tag",{attrs:{size:"small"}},[e._v("\n                      "+e._s(t)+"\n                    ")]):e._e()],1)})),e._v(" "),n.row[t.field_name_en].length>2?a("el-tag",{attrs:{size:"small"}},[e._v("...")]):e._e()],2)],e._v(" "),n.row[t.field_name_en]&&0==n.row[t.field_name_en].length?a("span",[e._v("--")]):e._e()],2):"switch"===t.form_value?a("div",[a("el-switch",{attrs:{disabled:"","active-value":1,"inactive-value":0,"active-text":"开启","inactive-text":"关闭"},model:{value:n.row[t.field_name_en],callback:function(a){e.$set(n.row,t.field_name_en,a)},expression:"scope.row[item.field_name_en]"}})],1):"textarea"===t.form_value?a("div",[a("el-popover",{attrs:{placement:"top-start",width:"350",trigger:"hover",content:n.row[t.field_name_en]}},[n.row[t.field_name_en].length>11?a("div",{staticClass:"over-text",attrs:{slot:"reference"},slot:"reference"},[e._v("\n                  "+e._s(n.row[t.field_name_en])+"\n                ")]):e._e()]),e._v(" "),n.row[t.field_name_en].length<=11?a("span",[e._v(" "+e._s(n.row[t.field_name_en])+" ")]):e._e(),e._v(" "),n.row[t.field_name_en]?e._e():a("span",[e._v("--")])],1):["input_number","input_float","input_price"].includes(t.form_value)?a("div",[e._v("\n              "+e._s(n.row[t.field_name_en])+"\n            ")]):a("div",[e._v("\n              "+e._s(e.getValue(n.row[t.field_name_en],t.form_value))+"\n            ")])]}}],null,!0)})})),e._v(" "),a("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.selectClick(t.row)}}},[e._v("选择")])]}}])})],2),e._v(" "),a("div",{staticClass:"flex-end mt14"},[a("el-pagination",{attrs:{"page-size":e.where.limit,"current-page":e.where.page,"page-sizes":[10,15,20],layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.pageChange}})],1)],1)])],1)},i=[],l=a("1215"),s={name:"CrmebOaEntApplicatDialog",props:{},data:function(){return{rowId:0,show:!1,header:[],total:0,where:{keyword:"",page:1,limit:15},tableData:[],index_field_name:""}},methods:{handleClose:function(){this.show=!1},openBox:function(e){this.rowId=e,this.getHeader(e),this.getList(e),this.show=!0},getHeader:function(e){var t=this;Object(l["V"])(this.rowId).then((function(e){t.header=e.data.association_field,t.index_field_name=e.data.index_field_name}))},getList:function(e){var t=this;Object(l["W"])(this.rowId,this.where).then((function(e){t.total=e.data.count,t.tableData=e.data.list||[]}))},getValue:function(e){var t="";return t=""==e?"--":"input_select"===type?e.name:Array.isArray(e)?e.toString():e,t||"--"},handleSizeChange:function(e){this.where.limit=e,this.getList()},pageChange:function(e){this.where.page=e,this.getList()},selectClick:function(e){var t={id:e.id,name:e[this.index_field_name]};this.$emit("getSelection",t),this.handleClose()},submit:function(){var e=this;this.fromItem.forEach((function(t,a){t.sort=e.fromItem.length-a}));var t={cate:this.fromItem};Object(l["Jb"])(t).then((function(t){e.handleClose(),e.$emit("getList")})).catch((function(t){e.$message.error(t.message)}))}}},o=s,r=(a("a50b"),a("2877")),_=Object(r["a"])(o,n,i,!1,null,"da23e614",null);t["default"]=_.exports},"4e34":function(e,t,a){},a50b:function(e,t,a){"use strict";a("4e34")}}]);