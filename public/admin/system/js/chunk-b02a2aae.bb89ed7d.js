(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b02a2aae"],{"36a9":function(e,t,l){"use strict";l.r(t);var a=function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("div",[l("el-form-item",{attrs:{label:"待办标题"}},[l("el-input",{staticClass:"textPosition",attrs:{size:"small",placeholder:"请输入推送标题"},on:{input:e.onInput},model:{value:e.form.title,callback:function(t){e.$set(e.form,"title",t)},expression:"form.title"}}),e._v(" "),l("span",{staticClass:"prompt"},[e._v("标题支持字段变量，如 "),l("span",{staticClass:"color-file"},[e._v("{createdOn} ")]),e._v("(其中 createdOn 为源实体的字段内部标识)")]),e._v(" "),l("el-popover",{attrs:{placement:"left",width:"100",trigger:"hover"}},[l("div",{staticClass:"field-box"},e._l(e.options.string_fields,(function(t,a){return l("div",{key:a,staticClass:"field-text over-text",on:{click:function(l){return e.handleClick(t,"title")}}},[e._v("\n          "+e._s(t.label)+"\n        ")])})),0),e._v(" "),l("span",{staticClass:"el-icon-chat-dot-square icon",attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),l("el-form-item",{staticClass:"mt14",attrs:{label:"参与人员"}},[l("div",{staticClass:"flex-between"},[l("el-select",{staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"请选择",filterable:""},model:{value:e.form.schedule_user.operator,callback:function(t){e.$set(e.form.schedule_user,"operator",t)},expression:"form.schedule_user.operator"}},e._l(e.options.update_type.slice(0,2),(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),"value"!=e.form.schedule_user.operator?l("el-select",{staticClass:"ml14",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"请选择",filterable:""},model:{value:e.form.schedule_user.form_field_uniqid,callback:function(t){e.$set(e.form.schedule_user,"form_field_uniqid",t)},expression:"form.schedule_user.form_field_uniqid"}},e._l(e.options.user_feilds,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):e._e(),e._v(" "),"value"==e.form.schedule_user.operator?l("select-member",{staticClass:"ml14",staticStyle:{width:"100%"},attrs:{placeholder:"选择参与人",value:e.form.schedule_user.useList||[],"is-avatar":!0},on:{getSelectList:e.getSelectList}}):e._e()],1)]),e._v(" "),l("el-form-item",{staticClass:"mt14",attrs:{label:"日程周期"}},[l("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:e.form.schedule_cycle,callback:function(t){e.$set(e.form,"schedule_cycle",t)},expression:"form.schedule_cycle"}},[e._v("全天")])],1),e._v(" "),l("el-form-item",{staticClass:"mt14",attrs:{label:"开始时间"}},[l("div",{staticClass:"flex-between"},[l("el-select",{staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"请选择",filterable:""},model:{value:e.form.start_time.operator,callback:function(t){e.$set(e.form.start_time,"operator",t)},expression:"form.start_time.operator"}},e._l(e.options.update_type.slice(0,2),(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),"value"!=e.form.start_time.operator?l("el-select",{staticClass:"ml14",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"请选择",filterable:""},model:{value:e.form.start_time.form_field_uniqid,callback:function(t){e.$set(e.form.start_time,"form_field_uniqid",t)},expression:"form.start_time.form_field_uniqid"}},e._l(e.options.time_feilds,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):e._e(),e._v(" "),"value"==e.form.start_time.operator?l("el-date-picker",{staticClass:"ml14",staticStyle:{width:"100%"},attrs:{type:1==e.form.schedule_cycle?"date":"datetime",size:"small",format:1==e.form.schedule_cycle?"yyyy/MM/dd":"yyyy/MM/dd HH:mm:ss","value-format":1==e.form.schedule_cycle?"yyyy/MM/dd":"yyyy/MM/dd HH:mm:ss",placeholder:"选择开始时间"},model:{value:e.form.start_time.value,callback:function(t){e.$set(e.form.start_time,"value",t)},expression:"form.start_time.value"}}):e._e()],1)]),e._v(" "),l("el-form-item",{staticClass:"mt14",attrs:{label:"结束时间"}},[l("div",{staticClass:"flex-between"},[l("el-select",{staticStyle:{width:"200px"},attrs:{size:"small",placeholder:"请选择",filterable:""},model:{value:e.form.end_time.operator,callback:function(t){e.$set(e.form.end_time,"operator",t)},expression:"form.end_time.operator"}},e._l(e.options.update_type.slice(0,2),(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),e._v(" "),"value"!=e.form.end_time.operator?l("el-select",{staticClass:"ml14",staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"请选择",filterable:""},model:{value:e.form.end_time.form_field_uniqid,callback:function(t){e.$set(e.form.end_time,"form_field_uniqid",t)},expression:"form.end_time.form_field_uniqid"}},e._l(e.options.time_feilds,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):e._e(),e._v(" "),"value"==e.form.end_time.operator?l("el-date-picker",{staticClass:"ml14",staticStyle:{width:"100%"},attrs:{type:1==e.form.schedule_cycle?"date":"datetime",size:"small",format:1==e.form.schedule_cycle?"yyyy/MM/dd":"yyyy/MM/dd HH:mm:ss","value-format":1==e.form.schedule_cycle?"yyyy/MM/dd":"yyyy/MM/dd HH:mm:ss",placeholder:"选择结束时间"},model:{value:e.form.end_time.value,callback:function(t){e.$set(e.form.end_time,"value",t)},expression:"form.end_time.value"}}):e._e()],1)]),e._v(" "),l("el-form-item",{staticClass:"mt14",attrs:{label:"提醒时间"}},[l("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"请选择"},model:{value:e.form.remind_time,callback:function(t){e.$set(e.form,"remind_time",t)},expression:"form.remind_time"}},e._l(e.remindOptions,(function(e){return l("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),e._v(" "),l("el-form-item",{staticClass:"mt14",attrs:{label:"日程类型"}},[e._v(" 个人提醒")]),e._v(" "),l("el-form-item",{staticClass:"mt14",attrs:{label:"待办描述"}},[l("el-input",{staticClass:"textPosition",attrs:{type:"textarea",rows:3,placeholder:"请输入推送内容"},model:{value:e.form.template,callback:function(t){e.$set(e.form,"template",t)},expression:"form.template"}}),e._v(" "),l("span",{staticClass:"prompt"},[e._v("内容支持字段变量，如 "),l("span",{staticClass:"color-file"},[e._v("{createdOn} ")]),e._v("(其中 createdOn 为源实体的字段内部标识)")]),e._v(" "),l("el-popover",{attrs:{placement:"left",width:"100",trigger:"hover"}},[l("div",{staticClass:"field-box"},e._l(e.options.string_fields,(function(t,a){return l("div",{key:a,staticClass:"field-text over-text",on:{click:function(l){return e.handleClick(t)}}},[e._v("\n          "+e._s(t.label)+"\n        ")])})),0),e._v(" "),l("span",{staticClass:"el-icon-chat-dot-square icon",attrs:{slot:"reference"},slot:"reference"})])],1)],1)},s=[],i={props:{field:{type:Array,default:[]},options:{type:Array,default:[]},data:{type:Object,default:function(){}}},components:{selectMember:function(){return Promise.resolve().then(l.bind(null,"6078"))}},data:function(){return{form:{title:"",schedule_user:{operator:"field_value",form_field_uniqid:"",value:""},start_time:{operator:"field_value",form_field_uniqid:"",value:""},end_time:{operator:"field_value",form_field_uniqid:"",value:""},remind_time:"",template:"",schedule_cycle:"1"},remindOptions:[{value:-1,label:"不提醒"},{value:0,label:"任务开始时"},{value:1,label:"提前5分钟"},{value:2,label:"提前15分钟"},{value:3,label:"提前30分钟"},{value:4,label:"提前1小时"},{value:5,label:"提前2小时"},{value:6,label:"提前1天"},{value:7,label:"提前2天"},{value:8,label:"提前1周"}]}},mounted:function(){this.data.title&&(this.data.remind_time=Number(this.data.remind_time),this.form=this.data)},methods:{onInput:function(){this.$forceUpdate()},getSelectList:function(e){var t=[];e.map((function(e){t.push(e.value)})),this.form.schedule_user.value=t,this.form.schedule_user.useList=e},handleClick:function(e,t){"title"==t?(this.$set(this.form,"title",this.form.title+"{"+e.value+"}"),this.onInput()):this.form.template=this.form.template+"{"+e.value+"}"}}},r=i,o=(l("b7d3"),l("2877")),n=Object(o["a"])(r,a,s,!1,null,"5982e558",null);t["default"]=n.exports},b7d3:function(e,t,l){"use strict";l("e63a")},e63a:function(e,t,l){}}]);