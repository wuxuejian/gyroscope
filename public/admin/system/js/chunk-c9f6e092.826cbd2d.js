(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c9f6e092"],{"3f0c":function(e,t,r){},5554:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-drawer",{staticClass:"set_promoter",attrs:{"append-to-body":!0,title:"审批人设置",visible:e.$store.state.business.approverDrawer,direction:"rtl",size:"550px","before-close":e.closeDrawer},on:{"update:visible":function(t){return e.$set(e.$store.state.business,"approverDrawer",t)}}},[r("div",{staticClass:"demo-drawer__content"},[r("div",{staticClass:"drawer_content"},[r("div",{staticClass:"approver_content"},[r("el-radio-group",{staticClass:"clear",on:{change:e.changeType},model:{value:e.approverConfig.settype,callback:function(t){e.$set(e.approverConfig,"settype",t)},expression:"approverConfig.settype"}},[r("el-radio",{attrs:{label:"1"}},[e._v("指定成员")]),e._v(" "),r("el-radio",{attrs:{label:"2"}},[e._v("指定上级")]),e._v(" "),r("el-radio",{attrs:{label:"7"}},[e._v("连续多级上级")]),e._v(" "),r("el-radio",{attrs:{label:"5"}},[e._v("申请人本人")]),e._v(" "),"lowCode"!==e.typeStr?r("el-radio",{attrs:{label:"4"}},[e._v("申请人自选")]):e._e()],1)],1),e._v(" "),1==e.approverConfig.settype?r("div",{staticClass:"approver_node_user"},[r("p",{staticClass:"title mt15"},[e._v("\n          指定成员\n          "),r("span",[e._v("不得超过100人")])]),e._v(" "),r("select-member",{staticStyle:{width:"100%"},attrs:{value:e.approverConfig.nodeUserList||[]},on:{getSelectList:e.getSelectList}}),e._v(" "),e.approverConfig.nodeUserList.length>1?r("div",[r("p",{staticClass:"title mt15"},[e._v("多人审批方式")]),e._v(" "),r("el-radio-group",{staticClass:"more-content",staticStyle:{width:"100%"},model:{value:e.approverConfig.examineMode,callback:function(t){e.$set(e.approverConfig,"examineMode",t)},expression:"approverConfig.examineMode"}},[r("el-radio",{attrs:{label:"1"}},[e._v("或签（ 一名成员同意即可 ）")]),e._v(" "),r("el-radio",{attrs:{label:"2"}},[e._v("会签（ 须所有成员同意 ）")]),e._v(" "),r("el-radio",{attrs:{label:"3"}},[e._v("依次审批（按顺序依次审批）")])],1)],1):e._e()],1):e._e(),e._v(" "),2==e.approverConfig.settype?r("div",{staticClass:"approver_manager"},[r("p",{staticClass:"title"},[e._v("指定层级")]),e._v(" "),r("el-row",[r("el-col",{attrs:{span:11}},[r("el-select",{model:{value:e.approverConfig.directorOrder,callback:function(t){e.$set(e.approverConfig,"directorOrder",t)},expression:"approverConfig.directorOrder"}},[r("el-option",{attrs:{value:"0",label:"从上至下"}}),e._v(" "),r("el-option",{attrs:{value:"1",label:"从下至上"}})],1)],1),e._v(" "),r("el-col",{staticClass:"pull-right",attrs:{span:11}},[r("el-select",{model:{value:e.approverConfig.directorLevel,callback:function(t){e.$set(e.approverConfig,"directorLevel",t)},expression:"approverConfig.directorLevel"}},e._l(e.directorMaxLevel,(function(e){return r("el-option",{key:e,attrs:{label:1==e?"直属上级":"第"+e+"级上级",value:e.toString()}})})),1)],1)],1)],1):e._e(),e._v(" "),7==e.approverConfig.settype?r("div",{staticClass:"approver_manager"},[r("p",{staticClass:"title"},[e._v("\n          指定终点\n          "),r("span",[e._v("将从申请人的直属上级依次审批到此上级为止")])]),e._v(" "),r("el-row",[r("el-col",{attrs:{span:11}},[r("el-select",{model:{value:e.approverConfig.directorOrder,callback:function(t){e.$set(e.approverConfig,"directorOrder",t)},expression:"approverConfig.directorOrder"}},[r("el-option",{attrs:{value:"0",label:"从上至下"}}),e._v(" "),r("el-option",{attrs:{value:"1",label:"从下至上"}})],1)],1),e._v(" "),r("el-col",{staticClass:"pull-right",attrs:{span:11}},[r("el-select",{model:{value:e.approverConfig.directorLevel,callback:function(t){e.$set(e.approverConfig,"directorLevel",t)},expression:"approverConfig.directorLevel"}},e._l(e.directorMaxLevel,(function(e){return r("el-option",{key:e,attrs:{label:1===e?"直属上级":"第"+e+"级上级",value:e.toString()}})})),1)],1)],1)],1):e._e(),e._v(" "),5==e.approverConfig.settype?r("div",{staticClass:"approver_self"},[r("p",[e._v("该审批节点设置“发起人自己”后，审批人默认为发起人")])]):e._e(),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:4==e.approverConfig.settype,expression:"approverConfig.settype == 4"}],staticClass:"approver_self_select"},[r("h3",[e._v("可选范围")]),e._v(" "),r("el-radio-group",{staticStyle:{width:"100%"},on:{change:e.changeRange},model:{value:e.approverConfig.selectRange,callback:function(t){e.$set(e.approverConfig,"selectRange",t)},expression:"approverConfig.selectRange"}},[r("el-radio",{attrs:{label:"1"}},[e._v("不限范围")]),e._v(" "),r("el-radio",{attrs:{label:"2"}},[e._v("指定成员")])],1),e._v(" "),2==e.approverConfig.selectRange?r("select-member",{staticStyle:{width:"100%"},attrs:{value:e.approverConfig.nodeUserList||[]},on:{getSelectList:e.getSelectList}}):e._e(),e._v(" "),r("h3",[e._v("选人方式")]),e._v(" "),r("el-radio-group",{staticStyle:{width:"100%"},model:{value:e.approverConfig.selectMode,callback:function(t){e.$set(e.approverConfig,"selectMode",t)},expression:"approverConfig.selectMode"}},[r("el-radio",{attrs:{label:"1"}},[e._v("单选")]),e._v(" "),r("el-radio",{attrs:{label:"2"}},[e._v("多选")])],1),e._v(" "),2==e.approverConfig.selectMode?r("div",[r("h3",[e._v("多人审批方式")]),e._v(" "),r("el-radio-group",{staticClass:"more-content",staticStyle:{width:"100%"},model:{value:e.approverConfig.examineMode,callback:function(t){e.$set(e.approverConfig,"examineMode",t)},expression:"approverConfig.examineMode"}},[r("el-radio",{attrs:{label:"1"}},[e._v("或签（ 一名成员同意即可 ）")]),e._v(" "),r("el-radio",{attrs:{label:"2"}},[e._v("会签（ 须所有成员同意 ）")]),e._v(" "),r("el-radio",{attrs:{label:"3"}},[e._v("依次审批（按顺序依次审批）")])],1)],1):e._e()],1),e._v(" "),2==e.approverConfig.settype||7==e.approverConfig.settype?r("div",{staticClass:"approver_some"},[r("p",{staticClass:"title"},[e._v("当前层级无部门负责人时")]),e._v(" "),r("el-radio-group",{staticClass:"person",model:{value:e.approverConfig.noHanderAction,callback:function(t){e.$set(e.approverConfig,"noHanderAction",t)},expression:"approverConfig.noHanderAction"}},[r("el-radio",{attrs:{label:"1"}},[e._v("由上一级部门负责人审批")]),e._v(" "),r("el-radio",{attrs:{label:"2"}},[e._v("此审批节点为空时直接跳过，不视为异常")])],1)],1):e._e()]),e._v(" "),r("div",{staticClass:"button from-foot-btn fix btn-shadow"},[r("el-button",{attrs:{size:"small"},on:{click:e.closeDrawer}},[e._v(e._s(e.$t("public.cancel")))]),e._v(" "),r("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.saveApprover}},[e._v(e._s(e.$t("public.ok")))])],1)])])},a=[],i={props:{directorMaxLevel:{type:Number,default:5},typeStr:{type:String,default:""}},components:{selectMember:function(){return Promise.resolve().then(r.bind(null,"6078"))}},data:function(){return{approverConfig:{},type:1,checkedList:[]}},computed:{approverConfig1:function(){return this.$store.state.business.approverConfig.value}},watch:{approverConfig1:function(e){this.approverConfig=e}},methods:{changeRange:function(){this.approverConfig.nodeUserList=[],this.checkedList=[]},changeType:function(e){this.approverConfig.nodeUserList=[],this.checkedList=[],this.approverConfig.examineMode="3",this.approverConfig.noHanderAction="2",2==e?this.approverConfig.directorLevel="1":4==e?(this.approverConfig.selectMode="1",this.approverConfig.selectRange="1"):7==e&&(this.approverConfig.directorLevel="1")},saveApprover:function(){if((1==this.approverConfig.settype||4==this.approverConfig.settype&&2==this.approverConfig.selectRange)&&this.approverConfig.nodeUserList.length<=0)return this.$message.warning("至少选择一个指定成员"),!1;this.approverConfig.error=!this.$func.setApproverStr(this.approverConfig),this.$store.commit("updateApproverConfig",{value:this.approverConfig,flag:!0,id:this.$store.state.business.approverConfig.id}),this.$emit("update:nodeConfig",this.approverConfig),this.closeDrawer()},closeDrawer:function(){this.$store.commit("updateApprover",!1)},getSelectList:function(e){this.approverConfig.nodeUserList=e}}},s=i,l=(r("5a5b"),r("2877")),n=Object(l["a"])(s,o,a,!1,null,null,null);t["default"]=n.exports},"5a5b":function(e,t,r){"use strict";r("3f0c")}}]);