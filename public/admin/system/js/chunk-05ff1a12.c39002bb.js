(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-05ff1a12"],{"0222":function(e,t,n){},1579:function(e,t,n){"use strict";n("0222")},"38c1":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"oa-dialog"},[n("el-dialog",{attrs:{top:"10%",visible:e.show,width:"700px","append-to-body":"","show-close":!1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.show=t}}},[n("div",{staticClass:"header flex-between",attrs:{slot:"title"},slot:"title"},[n("span",{staticClass:"title"},[e._v("选择引用内容")]),e._v(" "),n("span",{staticClass:"el-icon-close",on:{click:e.handleClose}})]),e._v(" "),n("div",{staticClass:"flex mb20"},[n("div",{staticClass:"inTotal"},[e._v("共 "+e._s(e.total)+" 项")]),e._v(" "),n("div",{staticClass:"ml14"},[n("el-input",{staticClass:"input",staticStyle:{width:"250px"},attrs:{"prefix-icon":"el-icon-search",size:"small",placeholder:"请输入关键字搜索",clearable:""},on:{change:e.getList},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),t.preventDefault(),e.getList(t))}},model:{value:e.where.keyword,callback:function(t){e.$set(e.where,"keyword",t)},expression:"where.keyword"}})],1)]),e._v(" "),n("div",{staticClass:"content table-box"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[e._l(e.header,(function(t,a){return n("el-table-column",{key:a,attrs:{prop:t.field_name_en,label:t.field_name},scopedSlots:e._u([{key:"default",fn:function(a){return["image"===t.form_value?n("div",{staticClass:"img-box"},[e._l(a.row[t.field_name_en],(function(t,a){return n("img",{key:a,staticClass:"img",attrs:{src:t.url,alt:""},on:{click:function(n){return e.lookViewer(t.url,t.name)}}})})),e._v(" "),a.row[t.field_name_en]&&0!=a.row[t.field_name_en].length?e._e():n("span",[e._v("--")])],2):"input_percentage"===t.form_value?n("div",[n("el-progress",{attrs:{percentage:a.row[t.field_name_en]?a.row[t.field_name_en]:0}})],1):"tag"===t.form_value||"checkbox"===t.form_value?n("div",[a.row[t.field_name_en].length>2?n("el-popover",{attrs:{placement:"top-start",trigger:"hover"}},[[n("div",{staticClass:"flex_box"},e._l(a.row[t.field_name_en],(function(t,a){return n("div",{key:a,staticClass:"tips"},[n("el-tag",{attrs:{size:"small"}},[e._v("\n                        "+e._s(t)+"\n                      ")])],1)})),0)],e._v(" "),n("div",{attrs:{slot:"reference"},slot:"reference"},[n("div",{staticClass:"flex_box"},[e._l(a.row[t.field_name_en],(function(t,a){return n("div",{key:a,staticClass:"tips"},[a<2?n("el-tag",{attrs:{size:"small"}},[e._v("\n                        "+e._s(t)+"\n                      ")]):e._e()],1)})),e._v(" "),a.row[t.field_name_en].length>2?n("el-tag",{attrs:{size:"small"}},[e._v("...")]):e._e()],2)])],2):[n("div",{staticClass:"flex_box"},[e._l(a.row[t.field_name_en],(function(t,a){return n("div",{key:a,staticClass:"tips"},[a<2?n("el-tag",{attrs:{size:"small"}},[e._v("\n                      "+e._s(t)+"\n                    ")]):e._e()],1)})),e._v(" "),a.row[t.field_name_en].length>2?n("el-tag",{attrs:{size:"small"}},[e._v("...")]):e._e()],2)],e._v(" "),a.row[t.field_name_en]&&0==a.row[t.field_name_en].length?n("span",[e._v("--")]):e._e()],2):"switch"===t.form_value?n("div",[n("el-switch",{attrs:{disabled:"","active-value":1,"inactive-value":0,"active-text":"开启","inactive-text":"关闭"},model:{value:a.row[t.field_name_en],callback:function(n){e.$set(a.row,t.field_name_en,n)},expression:"scope.row[item.field_name_en]"}})],1):"textarea"===t.form_value?n("div",[n("el-popover",{attrs:{placement:"top-start",width:"350",trigger:"hover",content:a.row[t.field_name_en]}},[a.row[t.field_name_en].length>11?n("div",{staticClass:"over-text",attrs:{slot:"reference"},slot:"reference"},[e._v("\n                  "+e._s(a.row[t.field_name_en])+"\n                ")]):e._e()]),e._v(" "),a.row[t.field_name_en].length<=11?n("span",[e._v(" "+e._s(a.row[t.field_name_en])+" ")]):e._e(),e._v(" "),a.row[t.field_name_en]?e._e():n("span",[e._v("--")])],1):["input_number","input_float","input_price"].includes(t.form_value)?n("div",[e._v("\n              "+e._s(a.row[t.field_name_en])+"\n            ")]):n("div",[e._v("\n              "+e._s(e.getValue(a.row[t.field_name_en]))+"\n            ")])]}}],null,!0)})})),e._v(" "),n("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text"},on:{click:function(n){return e.selectClick(t.row)}}},[e._v("选择")])]}}])})],2),e._v(" "),n("div",{staticClass:"flex-end mt14"},[n("el-pagination",{attrs:{"page-size":e.where.limit,"current-page":e.where.page,"page-sizes":[10,15,20],layout:"total, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.pageChange}})],1)],1)])],1)},i=[],l=n("1215"),s={name:"CrmebOaEntApplicatDialog",props:{},data:function(){return{rowId:0,show:!1,header:[],total:0,where:{keyword:"",page:1,limit:15},tableData:[],index_field_name:""}},methods:{handleClose:function(){this.show=!1},openBox:function(e){this.rowId=e,this.getHeader(e),this.getList(e),this.show=!0},getHeader:function(e){var t=this;Object(l["U"])(this.rowId).then((function(e){t.header=e.data.association_field,t.index_field_name=e.data.index_field_name}))},getList:function(e){var t=this;Object(l["V"])(this.rowId,this.where).then((function(e){t.total=e.data.count,t.tableData=e.data.list||[]}))},getValue:function(e){var t="";return t=""==e?"--":Array.isArray(e)?e.toString():e,t||"--"},handleSizeChange:function(e){this.where.limit=e,this.getList()},pageChange:function(e){this.where.page=e,this.getList()},selectClick:function(e){var t={id:e.id,name:e[this.index_field_name]};this.$emit("getSelection",t),this.handleClose()},submit:function(){var e=this;this.fromItem.forEach((function(t,n){t.sort=e.fromItem.length-n}));var t={cate:this.fromItem};Object(l["eb"])(t).then((function(t){e.handleClose(),e.$emit("getList")})).catch((function(t){e.$message.error(t.message)}))}}},o=s,r=(n("1579"),n("2877")),c=Object(r["a"])(o,a,i,!1,null,"114670c8",null);t["default"]=c.exports}}]);